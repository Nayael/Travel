/**
 **** JavaScript Keyboard.js library ****
 * 
 * Developed by Nicolas Vannier
 * http://www.nicolas-vannier.com
 */
(function(k){var a={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE_BREAK:19,CAPS_LOCK:20,ESCAPE:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,INSERT:45,DELETE:46,KEY_0:48,KEY_1:49,KEY_2:50,KEY_3:51,KEY_4:52,KEY_5:53,KEY_6:54,KEY_7:55,KEY_8:56,KEY_9:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,LEFT_WINDOW_KEY:91,RIGHT_WINDOW_KEY:92,SELECT_KEY:93,
NUMPAD_0:96,NUMPAD_1:97,NUMPAD_2:98,NUMPAD_3:99,NUMPAD_4:100,NUMPAD_5:101,NUMPAD_6:102,NUMPAD_7:103,NUMPAD_8:104,NUMPAD_9:105,MULTIPLY:106,ADD:107,SUBTRACT:109,DECIMAL_POINT:110,DIVIDE:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUM_LOCK:144,SCROLL_LOCK:145,SEMI_COLON:186,EQUAL_SIGN:187,COMMA:188,DASH:189,PERIOD:190,FORWARD_SLASH:191,GRAVE_ACCENT:192,OPEN_BRACKET:219,BACK_SLASH:220,CLOSE_BRAKET:221,SINGLE_QUOTE:222,Event_KEY_DOWN:"keydown",Event_KEY_UP:"keyup",
Event_KEY_PRESS:"keypress",keysPressed:{},callbacks:{},init:function(){addEventListener(a.Event_KEY_DOWN,function(c){if(void 0!=a.listeners){var b=a.listeners.keydown[c.keyCode];void 0!=b&&(b.target?b.call(b.target,c):b(c))}a.keysPressed[c.keyCode]=!0},!1);addEventListener(a.Event_KEY_UP,function(c){if(void 0!=a.listeners){var b=a.listeners.keyup[c.keyCode];void 0!=b&&(b.target?b.call(b.target,c):b(c))}delete a.keysPressed[c.keyCode]},!1);return a},bindKeys:function(c){a.callbacks={};for(var b in c)if(keys=
c[b],"string"==typeof keys)c[b]=[a[keys]];else for(var d=0;d<keys.length;d++)keys[d]=a[keys[d]];a.customKeys=c},makeControllable:function(c){if(c.hasOwnProperty("controls")){for(var b in c.controls)if(void 0!=a.customKeys&&void 0!=a.customKeys[b])for(var d=0,e;d<a.customKeys[b].length;d++)e=a.customKeys[b][d],a.callbacks[e]=c.controls[b];else b in a&&(e=a[b],a.callbacks[e]=c.controls[b]);c.checkControls=function(){var b={},d=null,e;for(e in c.controls)if(void 0!=a.customKeys&&void 0!=a.customKeys[e])for(var g=
0;g<a.customKeys[e].length;g++)d=a.customKeys[e][g],d in a.keysPressed&&(a.callbacks.hasOwnProperty(d)&&void 0==b[e])&&(a.callbacks[d].apply(c),b[e]=!0);else e in a&&(d=a[e],d in a.keysPressed&&(a.callbacks.hasOwnProperty(d)&&void 0==b[e])&&(a.callbacks[d].apply(c),b[e]=!0))}}},isDown:function(c){if(void 0==c){for(var b in a.keysPressed)if(a.keysPressed.hasOwnProperty(b)&&!0==a.keysPressed[b])return!0;return!1}return a.keysPressed[c]?!0:!1},isUp:function(c){return void 0==c?!a.isDown(c):a.keysPressed[c]?
!1:!0},on:function(c,b,d,e){var f=null;void 0==a.listeners&&(a.listeners={keyup:{},keydown:{}});void 0!=e&&(d.target=e);if(void 0!=a.customKeys&&void 0!=a.customKeys[b])for(e=0;e<a.customKeys[b].length;e++)f=a.customKeys[b][e],a.listeners[c][f]=d;else if(b in a)f=a[b],a.listeners[c][f]=d;else if("number"==typeof b)for(var h in a)if(a.hasOwnProperty(h)&&a[h]==b){a.listeners[c][b]=d;break}},remove:function(c,b,d){if(void 0!=a.listeners)if(d=null,void 0!=a.customKeys&&void 0!=a.customKeys[b])for(var e=
0;e<a.customKeys[b].length;e++)d=a.customKeys[b][e],a.listeners[c][d]&&delete a.listeners[c][d];else if(b in a||"number"==typeof b){if("number"==typeof b)for(e in a){if(a.hasOwnProperty(e)&&a[e]==b){d=b;break}}else d=a[b];null!==d&&a.listeners[c][d]&&delete a.listeners[c][d]}}};k.Keyboard=a.init()})(window);